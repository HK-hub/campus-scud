# 校园跑腿: 飞毛腿

## 1.1.1项目意义:

满足外卖族享受便捷的足不出户便可食物

## 2.1.1 项目功能

### 2.1 登录注册

### 2.2.1 订单发起者

* 上传订单信息

* 完善交易信息: 包括, 地点, 时间, 其他要求

* 修改订单

* 实时交流

* 查看我的订单信息

* 评价, 评论, 评分

* 订单记录

* 支付(优先线上), 退款

### 2.2.2 接单者

* 个人实名认证, 信息 , 信誉积分
* 接单, 退单
* 实时交流,
* 跑单
* 收款,
* 评论, 评分,
* 跑单记录

### 2.2.3 管理人员

* 订单管理

* 人员管理

* 信誉管理

* 财务管理

### 2.3 数据库设计

#### 2.3.1 用户

| 字段       | 类型 | 键   | 默认 |
| ---------- | ---- | ---- | ---- |
| id         |      |      |      |
| username   |      |      |      |
| tel        |      |      |      |
| 真是姓名   |      |      |      |
| 身份证号   |      |      |      |
| 身份证图片 |      |      |      |
| 信誉分     |      |      |      |
| 用户身份   |      |      |      |
| 创建时间   |      |      |      |
| 修改时间   |      |      |      |
| 登陆时间   |      |      |      |

#### 2.3.2 订单

| 字段                           | 类型   | 键   | 默认                       |
| ------------------------------ | ------ | ---- | -------------------------- |
| id                             |        |      |                            |
| 编号                           |        |      |                            |
| title                          |        |      |                            |
| 订单状态status                 |        |      |                            |
| 订单发起者                     | 用户id | 外   |                            |
| 外卖单号                       |        |      |                            |
| 订单图片                       |        |      | url 地址                   |
| 订单价格                       |        |      | 1,2,3                      |
| 订单分类type                   |        |      |                            |
| 订单描述: 时间限制, 地点, 其他 |        |      |                            |
| 期望时间                       |        |      |                            |
| 跑腿员(接单者)                 | 跑腿人 |      |                            |
| 支付状态                       |        |      | 0 预付, 1 未付, 3 交易成功 |
| 订单发起时间                   |        |      |                            |
| 结束时间                       |        |      |                            |
|                                |        |      |                            |

#### 2.3.3 实时交流 : 暂留

| 字段          | 类型 | 键   | 默认 |
| ------------- | ---- | ---- | ---- |
| id            |      |      |      |
| order_creator |      |      |      |
| order_runner  |      |      |      |

#### 2.3.4 财务流水

| 字段       | 类型 | 键   | 默认                                   |
| ---------- | ---- | ---- | -------------------------------------- |
| id         |      |      |                                        |
| 交易金额   |      |      |                                        |
| 付款者     |      |      |                                        |
| 收款者     |      |      | 首先付给平台, 线下的直接指定类型为线下 |
| 此交易状态 |      |      |                                        |
| 交易时间   |      |      |                                        |
| 修改时间   |      |      |                                        |





# 接口分析:

## 1.用户:

微信授权登录, 获取用户名,  电话号码,  登陆时间,  头像, 

下单: 订单的id ,  

跑单: 

用户的个人主页:  展示, 

*   个人基本信息,    
*   评价: 下的单的评价,  跑的单的评价  ,  
*   信誉积分: (拓展, 积分变化情况)  ,  
*   历史:  历史下单,  历史跑单,  , 
    *   查看, 管理,:删除, 
*   设置: 查看个人相信信息,  ; 管理个人信息,  昵称,  标语,      
*   帮助中心: 富文本
*   客服:  意思是意思
*   关于我们: 意思意思

 



## 2.下单:

### 填写信息:

*   标题描述: 跑单的描述
*   类型: 快递, 外卖, 采购
*   内容描述: 
*   取货地点:
*   收获地点:
*   时间限制: 以年月日时分秒详细选择, 展示,  前端转换显示为分钟, 
*   期望时间: 就是时间限制
*   报酬: 多少钱
*   备注: 一些需要特殊说明的具体信息



添加到我的下单





## 3.抢单:

点击抢单之后: 发出一个请求, 传送订单编号,  抢单人ID,  

**补充一些信息:**  

*   订单的跑腿人
*   开始接单时间
*   订单状态

添加到我的抢单

**通知：** 

​	通知双方订单状态信息， 

## 4. 完成

记录完成时间

改变订单状态， 

，进行评价

处理报酬流水： 



# 接口设计:

## 1.登录请求：/login?微信账号，

用户登录： 用户的账号， 登陆时间， 

## 2.消息聊天请求：/communication

*   点击导航栏的消息聊天 ：
    *   需要查出最近聊天的聊天对象和记录， 
    *   把正在进行的订单的联系人，和记录查出来， 

*   与XX用户聊天 /talk? ： 发送参数： 下单人， 跑腿人
*   点击发送： /sendmessage  : 发送参数： 下单人， 跑腿人，  数据放在请求体



## 3.下单： /createOrder?下单人 :  请求数据： 订单信息，、





## 4.订单详情： /orderDetails?订单编号

需要展示地图信息： 

订单信息

跑腿者位置



## 5.抢单 /grabOrder?抢单人, 订单编号：传输一些信息,  时间信息,  



## 6.确认收货 /completeOrder?订单编号 :



## 7.取消订单 /cancelOrder：订单编号， ：有人抢单了就不能取消，提示取消失败， 有人跑腿， 请自行与跑腿者商量，  没有人抢单才能取消成功





## 8.评价

*   订单发起者进行评价： /review/creator?订单编号：
*   跑腿者进行评价： /review/runner?订单编号：
*   好评率， 信誉积分



## 9. 用户个人主页 /profile?用户编号：

需要： 

*   个人基本信息：
*   我的历史下单： /myHistory/orders
*   我的历史跑单 : /myHistory/errands
*   信誉积分： /reputationPoints 信誉积分变化路线



## 10.帮助中心 /help：





## 11.联系客服 /contactCustomerService ：

展示：统一处理群群号，  微信号， 微信二维码， 电话， QQ ， 邮箱，





## 12.关于我们： 

包含: 意见反馈( /feedback ) 





# 页面设计:

## 1.首页: 跑单的列表

### 订单详情页面:



## 2. 创造页面

轮播图

*   跑腿
*   发单

## 3. 消息页面

第一个为客服

聊天页面



## 4.个人页面

### 我的个人信息

### 1. 历史

*   我的历史订单
*   我的历史跑单





# 分工:

## 1.前端





## 2.交互





## 3.后台

### 接口:

登录接口:

个人主页接口:

历史接口:

消息聊天接口:

订单页面, 订单详情接口:

发起订单接口:



